---
import { Image } from "astro:assets";
import Form from "./Form.astro";
import photoFooter from "@assets/photo02.jpg";

/* if (Astro.request.method === "post") {
  try {
    const data = await Astro.request.formData();
    const name = data.get("name");
    const email = data.get("email");
    const message = data.get("message");
    console.log(name, ` <${email}>:`, message);
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
} */

const { data } = Astro.props;
---

<div
  class="heroContainer md:flex pt-16 pb-20 px-0 flex-col justify-center items-center gap-3 self-stretch"
>
  <div class="hero flex flex-col items-start lg:mx-[0px] w-full">
    <div class="flex flex-row gap-14 w-full items-center">
      <div class="photo2 justify-end">
        <!-- <img src="../photo02.jpg" alt="Mariana Silveira de Castro" /> -->
        <Image
          src={photoFooter}
          class="overflow-clip rounded-full"
          alt="Mariana Silveira de Castro"
        />
      </div>
      <div class="logoAndText flex flex-col items-start gap-12 flex-1">
        <div class="textAndButton w-full">
          <div class="presentation w-[60%]">
            <h2 class="pb-10">Vamos conversar?</h2>
            <section class="pb-8">
              <div>
                <span class="text-marromTronco font-bold">WhatsApp:</span>
                <b> {data && data[0].contato_wpp} </b>
              </div>
              <div>
                <span class="text-marromTronco font-bold">Instagram:</span>
                <a
                  href=`https://www.instagram.com/${data && data[0].contato_instagram}`
                  target="_blank">{data && "@" + data[0].contato_instagram}</a
                >
              </div>
              <div>
                <span class="text-marromTronco font-bold">E-mail:</span>
                <a
                  href={data && "mailto:" + data[0].contato_email}
                  target="_blank">{data && data[0].contato_email}</a
                >
              </div>
            </section>
            <Form />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .textAndButton {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 19px;
  }
  .presentation {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .presentation section {
    /* width: 479px;
    height: 235px; */
    color: #575149;
    font-family: Jost;
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
  }

  .photo2 {
    display: flex;
    /* width: 448px;
    height: 664px; */
    align-items: center;
    border-radius: 1000px;
    mix-blend-mode: multiply;
    flex: 1 0 0;
    align-self: stretch;
    /* background:
      url(../../public/photo01.jpg),
      lightgray 50% / cover no-repeat; */
  }
</style>
